<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Discover - Minot Chamber</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <img src="../images/minot-logo.jpg" alt="Minot Chamber Logo" class="logo">
    <h1>Minot Chamber of Commerce</h1>
    <nav>
      <ul aria-label="Main site navigation">
        <li><a href="../index.html">Home</a></li>
        <li><a href="discover.html" class="active">Discover</a></li>
        <li><a href="directory.html">Directory</a></li>
        <li><a href="join.html">Join</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="about">
      <h2>Discover Minot</h2>
      <p>
        Minot, North Dakota is full of history, culture, and growing business opportunities.
        From the Scandinavian Heritage Park to local markets and the annual North Dakota State Fair,
        there’s something here for everyone.
      </p>
    </section>

    <section class="gallery">
      <h2>Popular Places</h2>
      <figure>
        <img src="../images/minot-air-show.jpg" alt="Minot Air Show" loading="lazy">
        <figcaption>Exciting aerial displays during Minot’s air show.</figcaption>
      </figure>
      <figure>
        <img src="../images/oak-park.jpg" alt="Oak Park" loading="lazy">
        <figcaption>Relax and unwind in the calm of Oak Park.</figcaption>
      </figure>
      <figure>
        <img src="../images/scandinavian-park.jpg" alt="Scandinavian Park" loading="lazy">
        <figcaption>Explore Minot’s Scandinavian roots at this cultural site.</figcaption>
      </figure>
    </section>

    <!-- Weather Section -->
    <section class="weather">
      <h2>Current Weather in Minot</h2>
      <div id="weatherData">
        <p>Loading weather information...</p>
      </div>
    </section>

    <!-- Cost of Living Section -->
    <section class="cost-of-living">
      <h2>Cost of Living</h2>
      <p>
        Curious about living costs in Minot? 
        <a href="https://www.bestplaces.net/cost_of_living/city/north_dakota/minot" target="_blank" rel="noopener">Click here</a> 
        to explore housing prices, utilities, groceries, and more.
      </p>
      <p>
        Find out how much income you need to live comfortably in Minot, ND.
      </p>
    </section>

    <!-- Local News Section -->
    <section class="local-news">
      <h2>Local News</h2>
      <p>
        Stay up to date with Minot news and events by visiting 
        <a href="https://www.kfyrtv.com/" target="_blank" rel="noopener">KFYR-TV Minot News</a>.
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; <span id="year"></span> Minot Chamber of Commerce</p>
    <p>Last Modified: <span id="lastModified"></span></p>
  </footer>

  <script>
    async function fetchWeather() {
      const weatherDiv = document.getElementById('weatherData');
      try {
        const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=48.2325&longitude=-101.2963&current_weather=true');
        if (!response.ok) throw new Error('Weather fetch failed');
        const data = await response.json();
        const weather = data.current_weather;

        weatherDiv.innerHTML = `
          <p>Temperature: ${weather.temperature}°C</p>
          <p>Wind Speed: ${weather.windspeed} km/h</p>
          <p>Weather Code: ${weather.weathercode}</p>
          <p>Time: ${new Date(weather.time).toLocaleString()}</p>
        `;
      } catch (error) {
        weatherDiv.textContent = 'Unable to load weather data.';
        console.error(error);
      }
    }
    fetchWeather();
  </script>

  <script src="../js/script.js"></script>
</body>
</html>